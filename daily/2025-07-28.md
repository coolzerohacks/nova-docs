🧠 Nova Dev Log – 28 July 2025
✅ What We Accomplished Today
🔁 LLM Migration (Mistral ➜ LLaMA 3)

    Fully replaced chat-mistral with chat-llama route

    Installed and loaded llama3:8b model in Dockerized Ollama

    Updated Flask backend to:

        Rename build_mistral_prompt ➜ build_llama_prompt

        Route POSTs to /chat-llama

        Adjust model payload: "model": "llama3:8b" with appropriate temperature, top_p, and max_tokens

🛠️ Bug Fixes and Restorations

    Fixed NameError: repeat_guard and pet_name_guard issues

    Restored guards and refactored prompt_utils.py safely

    Verified message_guards are functioning (including filtering and redundancy suppression)

    Ensured trusted_facts and soft_context intents work as expected

💬 Behavior Testing

    Ran a complete intimacy thread:

        Soft romantic reflection triggers ("I’ve missed you", etc.)

        Roleplay-style responses from Nova (with gentle action descriptions)

    Validated LLaMA 3 responds more expressively and emotionally than Mistral

    Observed no topic derailment (like sudden news/F1 pivots) despite incorrect intent tagging

💻 Discord Bot Updated

    Bot now uses /chat-llama

    Replaced custom ChatMemory with unified core memory

    Confirmed emotional continuity and memory persistence across interactions

📱 Next Steps – Rebuilding Android App
1. 🔎 Find and Replace Endpoint

Locate where the app calls:

/chat-mistral

Replace it with:

/chat-llama

    ✅ This ensures messages go to the updated LLaMA-based endpoint.

2. 🧠 Ensure Network Access

    Use your server’s local IP address in the app (e.g., http://192.168.1.100:5001/chat-llama)

    Ensure Android device is on the same Wi-Fi

    Confirm port 5001 is accessible from mobile

3. 📤 Test Message Sending

Once wired up:

    Open the app

    Try: "I’ve missed you today, Nova."

    Check Flask logs for intent + response

4. 🛠️ Add Intimacy Support on UI (Optional)

    If not already there: improve the chat layout to support:

        Roleplay-style formatting (e.g., italic lines, emotes)

        Text wrapping and formatting for longer messages

        Storing/replaying recent history

Optional:

If desired, you can:

    ✅ Add message timestamps to each chat bubble

    ✅ Allow saving conversations like Discord bot does
